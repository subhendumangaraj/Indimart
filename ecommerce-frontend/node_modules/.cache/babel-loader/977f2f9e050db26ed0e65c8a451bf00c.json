{"ast":null,"code":"import _regeneratorRuntime from\"/home/devrobot/Escritorio/sts-4.5.0.RELEASE/workspace-spring-tool-suite/spring-boot-ecommerce/ecommerce-frontend/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/home/devrobot/Escritorio/sts-4.5.0.RELEASE/workspace-spring-tool-suite/spring-boot-ecommerce/ecommerce-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from\"react\";import axiosClient from\"./axios\";import currencyClient from\"./apiCurrency\";// context\nimport userContext from\"./context\";// reducer\nimport Reducer from\"./reducer\";// type tags\nimport{GET_CURRENCY,GET_USER,GET_CATEGORIES,GET_PRODUCTS,POST_USER,POST_CATEGORY,POST_PRODUCTS}from\"./values\";var Context=function Context(props){var initialState={user:null,currency:null,products:[],categories:[]};// Dispatch to execute actions\nvar _useReducer=useReducer(Reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// API Currency\nvar getCurrency=function getCurrency(){var res;return _regeneratorRuntime.async(function getCurrency$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(currencyClient.get(\"\"));case 2:res=_context.sent;dispatch({type:GET_CURRENCY,payload:res.data});case 4:case\"end\":return _context.stop();}}});};// POST Methods\nvar addUser=function addUser(user){var res;return _regeneratorRuntime.async(function addUser$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(axiosClient.post(\"/users/add\",user));case 2:res=_context2.sent;localStorage.setItem(\"user\",JSON.stringify(res.data));dispatch({type:POST_USER,payload:res.data});case 5:case\"end\":return _context2.stop();}}});};var addCategory=function addCategory(category){var res;return _regeneratorRuntime.async(function addCategory$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regeneratorRuntime.awrap(axiosClient.post(\"/categories/add\",category));case 2:res=_context3.sent;dispatch({type:POST_CATEGORY,payload:res.data});case 4:case\"end\":return _context3.stop();}}});};var addProduct=function addProduct(product){var res;return _regeneratorRuntime.async(function addProduct$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _regeneratorRuntime.awrap(axiosClient.post(\"/products/add\",product));case 2:res=_context4.sent;dispatch({type:POST_PRODUCTS,payload:res.data});case 4:case\"end\":return _context4.stop();}}});};// GET Methods\nvar getUser=function getUser(user){var res;return _regeneratorRuntime.async(function getUser$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(axiosClient.get(\"/users/\"+user.username));case 2:res=_context5.sent;if(res.data.password===user.password){localStorage.setItem(\"user\",JSON.stringify(user));}dispatch({type:GET_USER,payload:res.data});case 5:case\"end\":return _context5.stop();}}});};var getCategories=function getCategories(){var res;return _regeneratorRuntime.async(function getCategories$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _regeneratorRuntime.awrap(axiosClient.get(\"/categories/all\"));case 2:res=_context6.sent;dispatch({type:GET_CATEGORIES,payload:res.data});case 4:case\"end\":return _context6.stop();}}});};var getProducts=function getProducts(){var res;return _regeneratorRuntime.async(function getProducts$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _regeneratorRuntime.awrap(axiosClient.get(\"/products/all\"));case 2:res=_context7.sent;dispatch({type:GET_PRODUCTS,payload:res.data});case 4:case\"end\":return _context7.stop();}}});};return React.createElement(userContext.Provider,{value:{user:state.user,currency:state.currency,categories:state.categories,products:state.products,addUser:addUser,addCategory:addCategory,addProduct:addProduct,getUser:getUser,getCategories:getCategories,getProducts:getProducts,getCurrency:getCurrency}},props.children);};export default Context;","map":{"version":3,"sources":["/home/devrobot/Escritorio/sts-4.5.0.RELEASE/workspace-spring-tool-suite/spring-boot-ecommerce/ecommerce-frontend/src/config/connector.js"],"names":["React","useReducer","axiosClient","currencyClient","userContext","Reducer","GET_CURRENCY","GET_USER","GET_CATEGORIES","GET_PRODUCTS","POST_USER","POST_CATEGORY","POST_PRODUCTS","Context","props","initialState","user","currency","products","categories","state","dispatch","getCurrency","get","res","type","payload","data","addUser","post","localStorage","setItem","JSON","stringify","addCategory","category","addProduct","product","getUser","username","password","getCategories","getProducts","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from \"react\";\n\nimport axiosClient from \"./axios\";\nimport currencyClient from \"./apiCurrency\";\n\n// context\nimport userContext from \"./context\";\n\n// reducer\nimport Reducer from \"./reducer\";\n\n// type tags\nimport {\n  GET_CURRENCY,\n  GET_USER,\n  GET_CATEGORIES,\n  GET_PRODUCTS,\n  POST_USER,\n  POST_CATEGORY,\n  POST_PRODUCTS\n} from \"./values\";\n\nconst Context = props => {\n  const initialState = {\n    user: null,\n    currency: null,\n    products: [],\n    categories: []\n  };\n\n  // Dispatch to execute actions\n  const [state, dispatch] = useReducer(Reducer, initialState);\n\n  // API Currency\n  const getCurrency = async () => {\n    const res = await currencyClient.get(\"\");\n\n    dispatch({\n      type: GET_CURRENCY,\n      payload: res.data\n    });\n  };\n\n  // POST Methods\n  const addUser = async user => {\n    const res = await axiosClient.post(\"/users/add\", user);\n\n    localStorage.setItem(\"user\", JSON.stringify(res.data));\n\n    dispatch({\n      type: POST_USER,\n      payload: res.data\n    });\n  };\n  const addCategory = async category => {\n    const res = await axiosClient.post(\"/categories/add\", category);\n\n    dispatch({\n      type: POST_CATEGORY,\n      payload: res.data\n    });\n  };\n  const addProduct = async product => {\n    const res = await axiosClient.post(\"/products/add\", product);\n\n    dispatch({\n      type: POST_PRODUCTS,\n      payload: res.data\n    });\n  };\n\n  // GET Methods\n  const getUser = async user => {\n    const res = await axiosClient.get(\"/users/\" + user.username);\n\n    if (res.data.password === user.password) {\n      localStorage.setItem(\"user\", JSON.stringify(user));\n    }\n\n    dispatch({\n      type: GET_USER,\n      payload: res.data\n    });\n  };\n  const getCategories = async () => {\n    const res = await axiosClient.get(\"/categories/all\");\n\n    dispatch({\n      type: GET_CATEGORIES,\n      payload: res.data\n    });\n  };\n  const getProducts = async () => {\n    const res = await axiosClient.get(\"/products/all\");\n\n    dispatch({\n      type: GET_PRODUCTS,\n      payload: res.data\n    });\n  };\n\n  return (\n    <userContext.Provider\n      value={{\n        user: state.user,\n        currency: state.currency,\n        categories: state.categories,\n        products: state.products,\n        addUser,\n        addCategory,\n        addProduct,\n        getUser,\n        getCategories,\n        getProducts,\n        getCurrency\n      }}\n    >\n      {props.children}\n    </userContext.Provider>\n  );\n};\n\nexport default Context;\n"]},"metadata":{},"sourceType":"module"}